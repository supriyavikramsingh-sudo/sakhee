// server/src/utils/languageDetector.js
// Language detection utility for detecting regional languages written in English letters

/**
 * Common words in Indian languages written in English (Hinglish, Tanglish, etc.)
 * These are frequently used words that indicate non-English content
 */

// Hindi/Hinglish common words (expanded with variations and colloquial terms)
const HINDI_WORDS = [
  // Common verbs
  'hai',
  'hain',
  'tha',
  'the',
  'thi',
  'thee',
  'hoon',
  'hu',
  'ho',
  'hoga',
  'hogi',
  'honge',
  'hoge',
  'kar',
  'kare',
  'karo',
  'karta',
  'karti',
  'karte',
  'karna',
  'karne',
  'karni',
  'karu',
  'karun',
  'karoon',
  'ke',
  'ki',
  'ka',
  'ko',
  'se',
  'mein',
  'main',
  'may',
  'mei',
  'par',
  'pe',
  'tak',
  'liye',
  'liye',
  'de',
  'do',
  'dena',
  'dene',
  'di',
  'diya',
  'diye',
  'deti',
  'dete',
  'deta',
  'le',
  'lo',
  'lena',
  'lene',
  'li',
  'liya',
  'liye',
  'leti',
  'lete',
  'leta',
  'ja',
  'jao',
  'jana',
  'jane',
  'jaa',
  'jaana',
  'gaya',
  'gayi',
  'gaye',
  'jata',
  'jati',
  'jate',
  'aa',
  'aao',
  'aana',
  'aane',
  'aya',
  'aayi',
  'aaye',
  'aata',
  'aati',
  'aate',
  // Pronouns (expanded)
  'mujhe',
  'mujh',
  'muje',
  'tumhe',
  'tumko',
  'tumse',
  'tumhare',
  'tumhari',
  'tumhara',
  'usko',
  'uske',
  'uski',
  'uska',
  'unko',
  'unke',
  'unki',
  'unka',
  'humko',
  'hamko',
  'hame',
  'humse',
  'hamse',
  'humare',
  'hamare',
  'humari',
  'hamari',
  'aap',
  'aapko',
  'aapke',
  'aapki',
  'aapka',
  'aapse',
  'apna',
  'apne',
  'apni',
  'apnaa',
  'mere',
  'mera',
  'meri',
  'meraa',
  'meree',
  // Question words (expanded)
  'kya',
  'kyaa',
  'kaise',
  'kese',
  'kaisa',
  'kaisi',
  'kaise',
  'kaisey',
  'kahan',
  'kahaan',
  'kaha',
  'kahaa',
  'kidhar',
  'kyun',
  'kyu',
  'kyon',
  'kyoon',
  'kaahe',
  'kahe',
  'kab',
  'kabb',
  'kav',
  'kaun',
  'kon',
  'kaunu',
  'konu',
  'kitna',
  'kitni',
  'kitne',
  'kitnaa',
  'konsa',
  'konsi',
  'konse',
  'kaunsa',
  'kaunsi',
  'kaunse',
  // Demonstrative
  'yeh',
  'ye',
  'yah',
  'yaha',
  'yahan',
  'yahaan',
  'idhar',
  'woh',
  'wo',
  'voh',
  'vo',
  'waha',
  'wahaan',
  'wahan',
  'udhar',
  'iss',
  'is',
  'us',
  'uss',
  'in',
  'un',
  // Affirmative/Negative
  'nahi',
  'nahin',
  'nai',
  'na',
  'mat',
  'maat',
  'haan',
  'ha',
  'haa',
  'han',
  'ji',
  'bilkul',
  'jarur',
  'zarur',
  'zaroor',
  'jaroor',
  'acha',
  'accha',
  'achha',
  'aacha',
  'ok',
  'theek',
  'thik',
  'sahi',
  // Food/health related (expanded)
  'khana',
  'khane',
  'khaya',
  'khaaya',
  'khao',
  'khaana',
  'khaane',
  'khaao',
  'khaaoo',
  'pina',
  'pine',
  'piyo',
  'peeyo',
  'piya',
  'peena',
  'peene',
  'peena',
  'din',
  'dinn',
  'raat',
  'raat',
  'subah',
  'subha',
  'savera',
  'shaam',
  'sham',
  'saam',
  'dopahar',
  'bhojan',
  'nashta',
  'naashta',
  'lunch',
  'dinner',
  'khana',
  'paani',
  'pani',
  'jal',
  'doodh',
  'dudh',
  'chai',
  'chaay',
  // Help/need words (expanded - removed English: help, medicine, doctor, health)
  'madad',
  'maddad',
  'sahayata',
  'chahiye',
  'chahte',
  'chahti',
  'chaahiye',
  'chaaiye',
  'batao',
  'bataaoo',
  'bataiye',
  'batayie',
  'bataye',
  'bolo',
  'kaho',
  'samjhao',
  'sikhao',
  // Medical/health (expanded - removed English: medicine, doctor, health)
  'dard',
  'takleef',
  'taklif',
  'bimari',
  'beemari',
  'beemar',
  'bimar',
  'dawai',
  'dawa',
  'davai',
  'daktar',
  'daakter',
  'sehat',
  'swasthya',
  'ilaj',
  'ilaaj',
  'upchar',
  // Numbers (expanded)
  'ek',
  'ekk',
  'do',
  'doo',
  'teen',
  'tin',
  'char',
  'chaar',
  'paanch',
  'panch',
  'paach',
  'chhay',
  'chhe',
  'saat',
  'saath',
  'aath',
  'aat',
  'nau',
  'nauu',
  'das',
  'dass',
  'sau',
  'sou',
  'hazaar',
  'hazar',
  'lakh',
  'laakh',
  'crore',
  'karod',
  // Connectors (expanded)
  'aur',
  'or',
  'tatha',
  'evam',
  'avam',
  'lekin',
  'lakin',
  'par',
  'parantu',
  'kintu',
  'magar',
  'magr',
  'toh',
  'to',
  'too',
  'phir',
  'fir',
  'fer',
  'isliye',
  'islie',
  'isleye',
  'isiliye',
  'kyunki',
  'kyonki',
  'kyuki',
  'kiyunki',
  'kyu-ki',
  'agar',
  'agr',
  'yadi',
  'jab',
  'jav',
  'tab',
  'tav',
  // PCOS/health related (expanded)
  'mahina',
  'maheena',
  'mahine',
  'maas',
  'month',
  'cycle',
  'periods',
  'mc',
  'pms',
  'weight',
  'vajan',
  'vazan',
  'wajan',
  'wazan',
  'motapa',
  'mota',
  'exercise',
  'vyayam',
  'kasrat',
  'yoga',
  'walk',
  // Common phrases/adjectives (expanded)
  'kuch',
  'kuchh',
  'kucch',
  'kchh',
  'sab',
  'sabhi',
  'saab',
  'sare',
  'sari',
  'saari',
  'saare',
  'bahut',
  'bohot',
  'bhut',
  'bohut',
  'bahot',
  'boht',
  'bht',
  'thoda',
  'thoda',
  'thora',
  'kam',
  'kamm',
  'jyada',
  'zyada',
  'jayda',
  'zayda',
  'jada',
  'zada',
  'pehle',
  'pahle',
  'pehele',
  'pahile',
  'baad',
  'bad',
  'badd',
  'abhi',
  'abi',
  'abhee',
  'ab',
  'abb',
  'abh',
  'phir',
  'fir',
  'fer',
  'dobara',
  'dubara',
  'kabhi',
  'kabhee',
  'kavi',
  'hamesha',
  'hamesa',
  'hamesha',
  'sada',
  'accha',
  'acha',
  'achha',
  'good',
  'bura',
  'kharab',
  'bad',
  'bada',
  'bara',
  'chota',
  'chhota',
  'naya',
  'nayaa',
  'purana',
  'puraana',
  'old',
  // Colloquial/internet slang
  'yaar',
  'yar',
  'dost',
  'bhai',
  'bhaiya',
  'bhaiyaa',
  'bhayya',
  'didi',
  'behan',
  'behen',
  'bhaijan',
  'arre',
  're',
  'are',
  'oye',
  'yaar',
  'dekho',
  'dekh',
  'dekhna',
  'dekna',
  'suno',
  'sun',
  'sunna',
  'suna',
  'pata',
  'pataa',
  'malum',
  'maloom',
  'pta',
  'karo',
  'kro',
  'karna',
  'krna',
  'hoga',
  'hoga',
  'hoyega',
  'hoyga',
  // Direction/location
  'upar',
  'oopar',
  'neeche',
  'neche',
  'andar',
  'bahar',
  'baahar',
  'aage',
  'age',
  'peeche',
  'peche',
  'paas',
  'pas',
  'door',
  'dur',
  'duur',
  // Cooking/recipe terms
  'pakana',
  'pakao',
  'banana',
  'banao',
  'bana',
  'recipe',
  'vidhi',
  'tarika',
  'tareeka',
  'masala',
  'namak',
  'namakk',
  'mirch',
  'mirchi',
  'tel',
  'ghee',
];

// Tamil common words (written in English) - Expanded with variations
const TAMIL_WORDS = [
  // Pronouns (expanded)
  'naan',
  'nan',
  'naanu',
  'naa',
  'naanga',
  'naanga',
  'naama',
  'nee',
  'nii',
  'neenge',
  'nenga',
  'neenga',
  'ningal',
  'avan',
  'avanu',
  'avanuku',
  'avanga',
  'aval',
  'avalu',
  'avaluku',
  'idu',
  'idhu',
  'adhu',
  'adu',
  'andha',
  'indha',
  'intha',
  // Verbs - to be (expanded)
  'irukku',
  'iruku',
  'irukkum',
  'irukum',
  'iruken',
  'irukken',
  'irukkean',
  'irundha',
  'irundhu',
  'irundhaa',
  'irundhom',
  'irundhenga',
  'iruppan',
  'irupan',
  'iruppa',
  'iruppanga',
  // Question words (expanded)
  'enna',
  'yenna',
  'ennadhu',
  'yenadhu',
  'eppadi',
  'epdi',
  'yeppadi',
  'yepdi',
  'eppdi',
  'eppo',
  'eppovum',
  'eppozuthu',
  'eppozhuthu',
  'yeppo',
  'enga',
  'yenga',
  'engeyum',
  'yengeyum',
  'yaar',
  'yaaru',
  'yearu',
  'yaardhu',
  'yen',
  'yean',
  'yaen',
  'yen',
  'evalo',
  'evalavu',
  'evvalavu',
  // Action verbs (expanded)
  'pannu',
  'panu',
  'pannunga',
  'panunga',
  'pannalam',
  'panalam',
  'panna',
  'pana',
  'pannitu',
  'panitu',
  'pannirken',
  'panirken',
  'vaa',
  'va',
  'vaanga',
  'vanga',
  'varen',
  'vanthutean',
  'po',
  'poo',
  'ponga',
  'poga',
  'poren',
  'poitean',
  'sollu',
  'solu',
  'sollunga',
  'solunga',
  'sollanum',
  'solanum',
  'sonna',
  'sona',
  // Eating/drinking (expanded)
  'sapadu',
  'saapadu',
  'sapdu',
  'saapadalam',
  'sapadunga',
  'sapudunga',
  'tanni',
  'thanni',
  'tani',
  'jalam',
  'paal',
  'pal',
  'chaaya',
  'chaya',
  'tea',
  'coffee',
  'sapida',
  'saapida',
  'sappida',
  'tinnu',
  'thinnu',
  'thinu',
  'kudikka',
  'kudika',
  'kudicha',
  'kudikanum',
  // Food items (expanded)
  'sadam',
  'sadham',
  'rice',
  'idli',
  'dosa',
  'dosai',
  'sambar',
  'rasam',
  // Adjectives (expanded)
  'nalla',
  'nala',
  'nalladhu',
  'nalladha',
  'nalladhu',
  'good',
  'kettadhu',
  'ketadhu',
  'ketta',
  'bad',
  'mosam',
  'mosham',
  'romba',
  'rumba',
  'rombha',
  'miga',
  'mikka',
  'very',
  'konjam',
  'konjom',
  'kunjam',
  'koncham',
  'little',
  'periya',
  'perya',
  'periyadhu',
  'big',
  'chinna',
  'sina',
  'chinnadhu',
  'small',
  // Time words
  'innikki',
  'inniki',
  'inniku',
  'today',
  'naalaikki',
  'naaleki',
  'tomorrow',
  'nethu',
  'neathu',
  'yesterday',
  'innam',
  'inum',
  'ippo',
  'ipo',
  'now',
  // Common phrases (removed English: okay, no, yes, see, look)
  'seri',
  'sari',
  'illa',
  'ila',
  'illai',
  'aamam',
  'aam',
  'ama',
  'aiyo',
  'aiyoo',
  'aiyyoo',
  'paarunga',
  'parunga',
  'paaru',
  'paar',
  // Help/health related (removed English: help, need, doctor, pain)
  'uthavi',
  'udhavi',
  'venum',
  'vaenum',
  'vaenamaa',
  'vaenuma',
  'maruthuvam',
  'maruthvar',
  'vaithiyam',
  'noi',
  'vali',
  'dard',
  // Connectors (removed English: but, then, next, before)
  'aana',
  'ana',
  'aanaa',
  'appuram',
  'apuram',
  'aduthadu',
  'adhuthadhu',
  'munnadhi',
  'munaadhi',
];

// Telugu common words (written in English) - Expanded with variations
const TELUGU_WORDS = [
  // Pronouns (expanded)
  'nenu',
  'neenu',
  'nenu',
  'naa',
  'naaku',
  'memu',
  'meemu',
  'manam',
  'manamu',
  'nuvvu',
  'nuvu',
  'neevou',
  'nevu',
  'miru',
  'meeru',
  'miiru',
  'atanu',
  'athanu',
  'ame',
  'aame',
  'vadu',
  'vaadu',
  'aadi',
  'adi',
  'idi',
  'idhi',
  'vaaru',
  'vaaru',
  'vaallu',
  'vallu',
  // Verbs - to be (expanded)
  'unnadi',
  'unadi',
  'undi',
  'undhi',
  'untundi',
  'unthundi',
  'unnaru',
  'unaru',
  'unnara',
  'unara',
  'untaru',
  'untharu',
  'unnanu',
  'unanu',
  'unnav',
  'unav',
  'unnam',
  'untanu',
  'unthanu',
  'ledu',
  'ledhu',
  'levu',
  'ledhu',
  'kaadu',
  'kadhu',
  'undachu',
  'undochu',
  'undocchu',
  // Question words (expanded)
  'enti',
  'yenti',
  'emiti',
  'yemiti',
  'ela',
  'elaa',
  'yela',
  'yellaa',
  'laga',
  'ekkada',
  'ekada',
  'yekkada',
  'yekada',
  'ekkadiki',
  'ekadiki',
  'evaru',
  'yevaru',
  'yevaaru',
  'evari',
  'yevari',
  'epudu',
  'eppudu',
  'yeppudu',
  'yepudu',
  'eppudaina',
  'epudaina',
  'enduku',
  'yenduku',
  'endukante',
  'yendukante',
  'entha',
  'yentha',
  'yenta',
  // Action verbs (expanded)
  'chey',
  'cheyi',
  'cheyyi',
  'chesthe',
  'chesthey',
  'chesthe',
  'chesanu',
  'chesaanu',
  'cheyyandi',
  'cheyandi',
  'cheyali',
  'chestha',
  'chesthanu',
  'chesanu',
  'tinu',
  'thinnu',
  'thinu',
  'tinandi',
  'thinandi',
  'thinaali',
  'thinnali',
  'thaagu',
  'thagu',
  'thaagaali',
  'thagali',
  'raa',
  'ra',
  'raandi',
  'randi',
  'raavali',
  'ravali',
  'vasthanu',
  'vachanu',
  'po',
  'poo',
  'poyi',
  'poni',
  'poindi',
  'poyindi',
  'vellu',
  'vellandi',
  'vellali',
  'cheppu',
  'chepu',
  'cheppandi',
  'chepandi',
  'cheppali',
  'chepali',
  'cheppanu',
  // Eating/drinking (expanded)
  'aahaaram',
  'ahaaram',
  'aharam',
  'bhojanaamu',
  'bhojanam',
  'annam',
  'anam',
  'rice',
  'neeru',
  'niru',
  'water',
  'paalu',
  'palu',
  'milk',
  'tinadam',
  'thinadam',
  'thinu',
  'tinu',
  // Adjectives (expanded - removed English: good, bad, very, much, little, bit, big, small)
  'bagundhi',
  'baguundhi',
  'bagundi',
  'bagundhii',
  'baga',
  'baaga',
  'manchidi',
  'manchidhi',
  'manchi',
  'manchii',
  'chedu',
  'chedhu',
  'cheddi',
  'kharaabu',
  'kharabu',
  'chaala',
  'chala',
  'chaalaa',
  'chalaa',
  'chaalamandhi',
  'koncham',
  'konchamu',
  'pedda',
  'peddha',
  'peda',
  'chinna',
  'china',
  // Time words (removed English: now, tomorrow, yesterday, daily, every)
  'ippudu',
  'ipudu',
  'repu',
  'ninna',
  'roju',
  'rojuu',
  'prati',
  'prathi',
  // Common phrases (removed English: yes, no, okay, alright, see, look, listen)
  'avunu',
  'avnu',
  'kaadu',
  'kadhu',
  'kadu',
  'sare',
  'sarey',
  'chudandi',
  'chudamu',
  'vinu',
  'vinandi',
  'vinaali',
  // Help/health related (removed English: help, need, doctor, hospital, pain, health)
  'sahayam',
  'saayam',
  'kaavali',
  'kavali',
  'kaavaali',
  'vaithyudu',
  'vaidyudu',
  'vaithyulu',
  'aaspatri',
  'noppe',
  'noppi',
  'arogya',
  'aarogyam',
  'aarogyamu',
  // Connectors (removed English: but, more, another, also, then, after, before, first)
  'kaani',
  'kani',
  'inka',
  'inko',
  'kuda',
  'kudaa',
  'tharvatha',
  'tarvatha',
  'taruvatha',
  'mundhu',
  'mundu',
  'mundhuga',
];

// Bengali common words (written in English) - Expanded
const BENGALI_WORDS = [
  // Pronouns (expanded)
  'ami',
  'amii',
  'aami',
  'aamii',
  'amra',
  'aamra',
  'amader',
  'aamader',
  'tumi',
  'tumii',
  'tumi',
  'tomra',
  'tomader',
  'tora',
  'todar',
  'se',
  'shey',
  'she',
  'tara',
  'tader',
  'oder',
  'tara',
  'amar',
  'aamar',
  'tomar',
  'tomar',
  'tar',
  'tahar',
  // Verbs - to be (expanded)
  'achi',
  'achhi',
  'aachi',
  'aachhi',
  'aache',
  'ache',
  'aachhe',
  'achhe',
  'chhilo',
  'chilo',
  'chhilam',
  'chilam',
  'chhile',
  'chile',
  'hobe',
  'habe',
  'hobena',
  'habena',
  'hoyechhe',
  'hoyeche',
  'achis',
  'aachis',
  'achho',
  'aachho',
  // Question words (expanded)
  'ki',
  'kii',
  'kee',
  'kemon',
  'kamon',
  'kemone',
  'kemone',
  'kothay',
  'kothae',
  'kothai',
  'kothae',
  'kothao',
  'ke',
  'kake',
  'kar',
  'kaar',
  'kaar',
  'kara',
  'kaara',
  'kobe',
  'kokhon',
  'kokkhon',
  'kokhono',
  'keno',
  'kano',
  'kaeno',
  'kaaeno',
  'koto',
  'koto',
  'kotota',
  'kototuku',
  // Action verbs (expanded)
  'kore',
  'korte',
  'korechhi',
  'korechi',
  'korbo',
  'korbi',
  'koro',
  'kora',
  'korun',
  'korona',
  'korish',
  'jai',
  'jaai',
  'jao',
  'jaao',
  'jabe',
  'jabi',
  'gelo',
  'galo',
  'aai',
  'aaso',
  'aasho',
  'aasbe',
  'asbe',
  'elo',
  'elo',
  'bolo',
  'bole',
  'bolchhe',
  'bolche',
  'bolechhi',
  'bolechi',
  'bolbo',
  // Eating/drinking (expanded)
  'kha',
  'khao',
  'khaao',
  'khawa',
  'khaowa',
  'kheye',
  'kheye',
  'kheyechhi',
  'kheyechi',
  'khabar',
  'khaabar',
  'bhat',
  'bhaat',
  'rice',
  'ruti',
  'roti',
  'pan',
  'paan',
  'paani',
  'jol',
  'jal',
  'doodh',
  'dudh',
  'cha',
  'chaa',
  'tea',
  // Adjectives (expanded)
  'bhalo',
  'bhaalo',
  'bhalo',
  'bhalobashe',
  'valo',
  'vaalo',
  'good',
  'kharap',
  'kharaper',
  'kharape',
  'kharap',
  'bad',
  'bekar',
  'bekaar',
  'khub',
  'khubi',
  'khuub',
  'khuubi',
  'bahut',
  'bohu',
  'very',
  'ektu',
  'ektuu',
  'ekta',
  'little',
  'bit',
  'boro',
  'baro',
  'bara',
  'big',
  'chhoto',
  'choto',
  'small',
  // Time words
  'aaj',
  'aj',
  'today',
  'kal',
  'tomorrow',
  'yesterday',
  'pardin',
  'gotokal',
  'ekhon',
  'aekhon',
  'ekhoni',
  'now',
  'takhon',
  'then',
  // Common phrases
  'haan',
  'han',
  'hyan',
  'yes',
  'naa',
  'na',
  'nahi',
  'no',
  'achha',
  'accha',
  'acha',
  'okay',
  'thik',
  'theek',
  'thik',
  'dekho',
  'daekho',
  'dekh',
  'see',
  'shono',
  'shuno',
  'listen',
  // Help/health related (removed common English words: help, need, doctor, hospital, pain, health, medicine)
  'shahajjo',
  'shahajya',
  'dorkar',
  'darkaar',
  'daktar',
  'batha',
  'byatha',
  'swasthya',
  'sasthyo',
  'osudh',
  'oushodh',
  // Connectors (removed common English words: but, and, then, before, also)
  'kintu',
  'kintuu',
  'ebong',
  'ebang',
  'tarpor',
  'taropor',
  'aager',
  'ager',
  'o',
  'oo',
];

// Marathi common words (written in English) - Expanded
const MARATHI_WORDS = [
  // Pronouns (expanded)
  'mi',
  'mii',
  'mee',
  'mala',
  'maala',
  'majha',
  'maajha',
  'mazi',
  'maazi',
  'tu',
  'tuu',
  'too',
  'tula',
  'tuula',
  'tujha',
  'tuujha',
  'tuzi',
  'tuuzi',
  'to',
  'toh',
  'ti',
  'tii',
  'te',
  'tey',
  'tyaa',
  'tya',
  'tyacha',
  'tyachi',
  'aamhi',
  'amhi',
  'aamlya',
  'amlya',
  'tumhi',
  'tumhya',
  'te',
  'tyanchya',
  // Verbs - to be (expanded)
  'aahe',
  'ahe',
  'aahet',
  'ahet',
  'aahes',
  'ahes',
  'hota',
  'hotha',
  'hoto',
  'hote',
  'hotey',
  'hoti',
  'hothi',
  'asel',
  'aasel',
  'asnar',
  'asnar',
  'asshil',
  'asil',
  'hoil',
  'hoeel',
  'hoel',
  'honar',
  'honaar',
  // Question words (expanded)
  'kay',
  'kaay',
  'kahi',
  'kaahi',
  'kahitari',
  'kahitri',
  'kasa',
  'kasaa',
  'kase',
  'kasee',
  'kashi',
  'kashii',
  'kashe',
  'kashey',
  'kuthe',
  'kuthey',
  'kade',
  'kadey',
  'kothe',
  'kothey',
  'kon',
  'konn',
  'kuna',
  'kunaa',
  'konala',
  'konaala',
  'kevha',
  'kewhaa',
  'keli',
  'kelii',
  'kaadhii',
  'kadhi',
  'ka',
  'kaa',
  'hoye',
  'hoy',
  // Action verbs (expanded)
  'kar',
  'kara',
  'kaara',
  'karu',
  'kaaru',
  'karnar',
  'karnaar',
  'kartos',
  'kartey',
  'kela',
  'kelaa',
  'keli',
  'kelii',
  'kele',
  'kelee',
  'ja',
  'jaa',
  'jaun',
  'jaaun',
  'gelo',
  'geloo',
  'geli',
  'gelii',
  'ye',
  'yaa',
  'yaun',
  'yaaun',
  'ala',
  'aalaa',
  'ali',
  'aalii',
  'sang',
  'saang',
  'sangaa',
  'saangaa',
  'sangu',
  'saangu',
  'sangitla',
  'sangtla',
  'bol',
  'bola',
  'bolaa',
  'bolat',
  'bolto',
  'boltey',
  // Eating/drinking (expanded)
  'kha',
  'khaa',
  'khau',
  'khaau',
  'khava',
  'khaava',
  'khalle',
  'khaalley',
  'jevan',
  'jewan',
  'jeevhan',
  'bhat',
  'bhaat',
  'rice',
  'roti',
  'rotii',
  'pya',
  'pyaa',
  'pyaav',
  'pyaave',
  'pyayla',
  'pyaaylay',
  'pyaayley',
  'paani',
  'pani',
  'water',
  'doodh',
  'dudh',
  'chaha',
  'chaahaa',
  'tea',
  // Adjectives (expanded)
  'chhan',
  'chan',
  'chaangla',
  'changla',
  'changle',
  'changley',
  'good',
  'vait',
  'wait',
  'waait',
  'kharaab',
  'kharab',
  'bad',
  'khup',
  'khoopa',
  'khuup',
  'khoopaa',
  'bahut',
  'very',
  'thoda',
  'thodaa',
  'thode',
  'little',
  'jasta',
  'jaastaa',
  'more',
  'motha',
  'mothaa',
  'moth',
  'big',
  'lahan',
  'lahaan',
  'small',
  // Time words
  'aaj',
  'aajj',
  'today',
  'udya',
  'udhyaa',
  'tomorrow',
  'kal',
  'kaall',
  'yesterday',
  'aata',
  'aataa',
  'aattan',
  'now',
  'tevha',
  'tevhaa',
  'then',
  // Common phrases
  'hoy',
  'hoye',
  'hoay',
  'yes',
  'nahi',
  'naahi',
  'naahin',
  'no',
  'thik',
  'thiik',
  'theek',
  'okay',
  'bara',
  'baraa',
  'good',
  'bagh',
  'baagh',
  'bagha',
  'baagha',
  'see',
  'aikaa',
  'aika',
  'listen',
  // Help/health related
  'madad',
  'maddad',
  'madat',
  'help',
  'paahije',
  'pahije',
  'paije',
  'need',
  'doctor',
  'daktar',
  'vaidya',
  'dukhtey',
  'dukhat',
  'pain',
  'aarogya',
  'arogya',
  'health',
  'aushadh',
  'oshadh',
  'medicine',
  // Connectors
  'pan',
  'pann',
  'paann',
  'but',
  'ani',
  'aani',
  'and',
  'nantar',
  'nanter',
  'naantar',
  'then',
  'aadhi',
  'adhi',
  'before',
  'sudha',
  'sudhaa',
  'suddha',
  'also',
];

// Gujarati common words (written in English)
const GUJARATI_WORDS = [
  'hun',
  'hoon',
  'tu',
  'tuu',
  'te',
  'tey',
  'ame',
  'tame',
  'chhe',
  'che',
  'hatu',
  'hatoo',
  'hase',
  'haase',
  'shu',
  'shuu',
  'kem',
  'kyaa',
  'kyaan',
  'kyare',
  'kon',
  'kone',
  'karo',
  'karvu',
  'karvanu',
  'karu',
  'karis',
  'khao',
  'khavu',
  'khavanu',
  'pivo',
  'peevo',
  'saru',
  'saroo',
  'kharab',
  'bahoo',
  'bahu',
];

// Punjabi common words (written in English) - Expanded with more unique words
const PUNJABI_WORDS = [
  // Pronouns (expanded with Punjabi-specific forms)
  'main',
  'mein',
  'mainu',
  'maida',
  'mera',
  'meri',
  'mere',
  'tu',
  'tuu',
  'tenu',
  'tere',
  'tera',
  'teri',
  'terey',
  'tusi',
  'tussi',
  'tuhanu',
  'tuhada',
  'tuhadi',
  'tuhadey',
  'oh',
  'ohde',
  'ohdi',
  'ohda',
  'uhde',
  'uhdi',
  'uhda',
  'assi',
  'asi',
  'saada',
  'sadi',
  'sadey',
  'saanu',
  // Verbs - to be (Punjabi-specific)
  'hai',
  'hega',
  'haiga',
  'si',
  'sii',
  'san',
  'saan',
  'hovega',
  'hona',
  'hojana',
  'hoju',
  'hove',
  'hovey',
  'aa',
  'aan',
  'aunda',
  'aundi',
  'aunde',
  // Question words (Punjabi-specific)
  'ki',
  'kii',
  'kive',
  'kivein',
  'kidaan',
  'kidan',
  'kithe',
  'kithey',
  'kidar',
  'kidhar',
  'kaun',
  'kon',
  'kehda',
  'kehdi',
  'kehdey',
  'kado',
  'kadoon',
  'kaddun',
  'kada',
  'kadde',
  'kithe',
  'kithon',
  'kithun',
  // Action verbs (Punjabi-specific)
  'kar',
  'karo',
  'kardi',
  'karda',
  'karde',
  'kardey',
  'karni',
  'karna',
  'karke',
  'jaana',
  'jana',
  'jaa',
  'jao',
  'jaanda',
  'jaandi',
  'jande',
  'gaya',
  'gayi',
  'aana',
  'ana',
  'aa',
  'aao',
  'aaunda',
  'aaundi',
  'aunde',
  'aaya',
  'aayi',
  'das',
  'daso',
  'dassa',
  'dassi',
  'dass',
  'dassna',
  'dassey',
  'bol',
  'bolo',
  'bolda',
  'boldi',
  'bolde',
  'boleya',
  'boleyi',
  // Eating/drinking (Punjabi-specific)
  'kha',
  'khao',
  'khaana',
  'khada',
  'khadi',
  'khadey',
  'khaana',
  'khana',
  'pi',
  'pio',
  'peena',
  'pinda',
  'pindi',
  'pindey',
  'peeta',
  'peeti',
  'roti',
  'rotii',
  'daal',
  'daal',
  'chawal',
  'chawal',
  'pani',
  'paani',
  'dudh',
  'doodh',
  'chai',
  'chaa',
  // Adjectives (Punjabi-specific)
  'changa',
  'changaa',
  'changi',
  'changey',
  'vadiya',
  'vadiyaa',
  'good',
  'manda',
  'mandaa',
  'mandi',
  'mandey',
  'kharab',
  'kharaba',
  'bad',
  'bahut',
  'boht',
  'bohot',
  'bahuta',
  'very',
  'thoda',
  'thora',
  'thodi',
  'thodey',
  'little',
  'wadda',
  'wada',
  'vadda',
  'vada',
  'big',
  'nikka',
  'nikki',
  'small',
  // Time words (Punjabi-specific)
  'ajj',
  'aj',
  'aaj',
  'today',
  'kal',
  'kall',
  'tomorrow',
  'yesterday',
  'hun',
  'hunna',
  'haale',
  'now',
  'fer',
  'phir',
  'fir',
  'then',
  // Common phrases (Punjabi-specific)
  'haan',
  'hanji',
  'ji',
  'yes',
  'nahi',
  'nahin',
  'nai',
  'na',
  'no',
  'theek',
  'thik',
  'sahi',
  'okay',
  'achha',
  'acha',
  'vekh',
  'vekhh',
  'dekh',
  'dekho',
  'see',
  'sun',
  'suno',
  'listen',
  'paaji',
  'paji',
  'veere',
  'veeraa',
  'yaar',
  'yaar',
  // Help/health (Punjabi-specific)
  'madad',
  'maddad',
  'sahayata',
  'help',
  'chahida',
  'chahidi',
  'chahide',
  'need',
  'doctor',
  'daktar',
  'dard',
  'takleef',
  'taklif',
  'pain',
  'sehat',
  'sihat',
  'health',
  'dawai',
  'dava',
  'medicine',
  // Connectors (Punjabi-specific)
  'te',
  'tey',
  'ate',
  'atey',
  'and',
  'par',
  'pr',
  'but',
  'fir',
  'fer',
  'phir',
  'then',
  'pehla',
  'pehle',
  'before',
  'vi',
  'vii',
  'bhi',
  'bhii',
  'also',
];

// Malayalam common words (written in English)
const MALAYALAM_WORDS = [
  'njan',
  'njaan',
  'nee',
  'nii',
  'avan',
  'aval',
  'njangal',
  'ningal',
  'aanu',
  'anu',
  'unde',
  'undey',
  'aarunnu',
  'aayirunnu',
  'enthu',
  'enthaa',
  'engane',
  'evide',
  'aar',
  'aaru',
  'eppol',
  'eppo',
  'cheyyuka',
  'cheyyu',
  'cheythu',
  'cheyth',
  'kazhikuka',
  'kazhiku',
  'kudikuka',
  'kudiku',
  'nalla',
  'nallath',
  'mosham',
  'valare',
  'valya',
];

// Kannada common words (written in English)
const KANNADA_WORDS = [
  'naanu',
  'nanu',
  'neenu',
  'ninu',
  'avanu',
  'avalu',
  'naavu',
  'neevu',
  'ide',
  'idey',
  'ittu',
  'irthey',
  'iralilla',
  'illa',
  'yenu',
  'hege',
  'yelli',
  'yaaru',
  'yavaga',
  'maadu',
  'maadi',
  'madidde',
  'madthini',
  'thinnu',
  'thini',
  'kudidu',
  'kudi',
  'chennagi',
  'chennagide',
  'ketta',
  'thumba',
];

// All regional language words combined
const ALL_REGIONAL_WORDS = [
  ...HINDI_WORDS,
  ...TAMIL_WORDS,
  ...TELUGU_WORDS,
  ...BENGALI_WORDS,
  ...MARATHI_WORDS,
  ...GUJARATI_WORDS,
  ...PUNJABI_WORDS,
  ...MALAYALAM_WORDS,
  ...KANNADA_WORDS,
];

// Language name mapping
const LANGUAGE_NAMES = {
  hindi: 'Hindi',
  tamil: 'Tamil',
  telugu: 'Telugu',
  bengali: 'Bengali',
  marathi: 'Marathi',
  gujarati: 'Gujarati',
  punjabi: 'Punjabi',
  malayalam: 'Malayalam',
  kannada: 'Kannada',
};

// Common phrases that strongly indicate regional language usage
const COMMON_PHRASES = {
  hindi: [
    'mujhe chahiye',
    'kya hai',
    'kaise hai',
    'kya kar',
    'batao mujhe',
    'madad chahiye',
    'kya hoga',
    'kaise kare',
    'mujhe bataao',
    'kya karna',
    'kaise banaye',
    'banane ki vidhi',
    'khana khane',
    'khane ki',
    'pina hai',
    'peene ki',
    'kar sakte',
    'kar sakti',
    'hai kya',
    'hona chahiye',
    'karna chahiye',
    'karna padega',
    'hoga kya',
    'mujhe help',
    'thoda help',
    'bahut zyada',
    'bahut kam',
    'thik nahi',
  ],
  tamil: [
    'enakku venum',
    'ennaku venum',
    'enna pannum',
    'eppadi panradhu',
    'sollunga please',
    'sapadu venum',
    'tanni venum',
    'romba nalla',
    'konjam help',
    'uthavi venum',
    'nalla irukku',
    'epdi iruken',
    'enna achu',
    'paaru da',
    'paathiya',
  ],
  telugu: [
    'naaku kaavali',
    'naku kavali',
    'ela cheyali',
    'cheppandi please',
    'emiti adhi',
    'chala bagundi',
    'koncham help',
    'sahayam kaavali',
    'tinu kaavali',
    'taagu kaavali',
    'ela chesanu',
    'enti adhi',
    'bagundhi kadha',
    'manchidhi kadha',
  ],
};

// Words that are commonly English but used in regional context (very low weight)
const AMBIGUOUS_WORDS = new Set([
  'help',
  'please',
  'ok',
  'okay',
  'doctor',
  'hospital',
  'weight',
  'cycle',
  'periods',
  'medicine',
  'health',
  'exercise',
  'walk',
  'yoga',
  'rice',
  'tea',
  'coffee',
  'need',
  'and',
  'but',
  'or',
  'food',
  'good',
  'bad',
  'day',
  'night',
]);

// Common English words that should NOT trigger detection even if in dictionary
const ENGLISH_COMMON_WORDS = new Set([
  // Pronouns
  'i',
  'me',
  'my',
  'mine',
  'you',
  'your',
  'he',
  'she',
  'it',
  'we',
  'they',
  // Verbs
  'am',
  'is',
  'are',
  'was',
  'were',
  'be',
  'been',
  'being',
  'have',
  'has',
  'had',
  'do',
  'does',
  'did',
  'will',
  'would',
  'should',
  'can',
  'could',
  // Articles/Demonstratives
  'the',
  'a',
  'an',
  'this',
  'that',
  'these',
  'those',
  // Prepositions
  'in',
  'on',
  'at',
  'to',
  'for',
  'of',
  'with',
  'from',
  'by',
  // Question words
  'what',
  'where',
  'when',
  'why',
  'how',
  'who',
  // Conjunctions
  'and',
  'or',
  'but',
  'so',
  'yet',
  'nor',
  // Common adjectives/adverbs
  'good',
  'bad',
  'very',
  'much',
  'little',
  'big',
  'small',
  'more',
  'less',
  // Time/Place
  'now',
  'then',
  'here',
  'there',
  'today',
  'tomorrow',
  'yesterday',
  // Yes/No/Greetings
  'yes',
  'no',
  'okay',
  'ok',
  'please',
  'thanks',
  // Actions
  'see',
  'look',
  'listen',
  'go',
  'come',
  // Other common
  'first',
  'last',
  'next',
  'before',
  'after',
  'also',
  'too',
  'every',
  'daily',
  'bit',
  'alright',
  'another',
]);

/**
 * Detects if text contains regional language words written in English
 * Enhanced with phrase detection and contextual scoring
 * @param {string} text - The text to analyze
 * @returns {Object} - { isRegionalLanguage: boolean, detectedLanguage: string|null, matchedWords: string[], confidence: string }
 */
export const detectRegionalLanguage = (text) => {
  if (!text || typeof text !== 'string') {
    return {
      isRegionalLanguage: false,
      detectedLanguage: null,
      matchedWords: [],
      score: 0,
      confidence: 'none',
    };
  }

  const normalizedText = text.toLowerCase().trim();
  const words = normalizedText.split(/\s+/);

  // Count matches for each language with weighted scoring
  const languageScores = {
    hindi: 0,
    tamil: 0,
    telugu: 0,
    bengali: 0,
    marathi: 0,
    gujarati: 0,
    punjabi: 0,
    malayalam: 0,
    kannada: 0,
  };

  const matchedWords = [];
  const matchedPhrases = [];

  // Check for common phrases first (gives bonus points)
  Object.keys(COMMON_PHRASES).forEach((lang) => {
    COMMON_PHRASES[lang].forEach((phrase) => {
      if (normalizedText.includes(phrase)) {
        languageScores[lang] += 3; // Phrase match gives 3 points
        matchedPhrases.push(phrase);
      }
    });
  });

  // Check each word against language dictionaries with weighted scoring
  words.forEach((word) => {
    // Skip very short words (less than 2 chars) as they're too ambiguous
    if (word.length < 2) return;

    // Skip common English words entirely
    if (ENGLISH_COMMON_WORDS.has(word)) return;

    const isAmbiguous = AMBIGUOUS_WORDS.has(word);
    const weight = isAmbiguous ? 0.3 : 1; // Ambiguous words get minimal weight

    if (HINDI_WORDS.includes(word)) {
      languageScores.hindi += weight;
      if (!matchedWords.includes(word)) matchedWords.push(word);
    }
    if (TAMIL_WORDS.includes(word)) {
      languageScores.tamil += weight;
      if (!matchedWords.includes(word)) matchedWords.push(word);
    }
    if (TELUGU_WORDS.includes(word)) {
      languageScores.telugu += weight;
      if (!matchedWords.includes(word)) matchedWords.push(word);
    }
    if (BENGALI_WORDS.includes(word)) {
      languageScores.bengali += weight;
      if (!matchedWords.includes(word)) matchedWords.push(word);
    }
    if (MARATHI_WORDS.includes(word)) {
      languageScores.marathi += weight;
      if (!matchedWords.includes(word)) matchedWords.push(word);
    }
    if (GUJARATI_WORDS.includes(word)) {
      languageScores.gujarati += weight;
      if (!matchedWords.includes(word)) matchedWords.push(word);
    }
    if (PUNJABI_WORDS.includes(word)) {
      languageScores.punjabi += weight;
      if (!matchedWords.includes(word)) matchedWords.push(word);
    }
    if (MALAYALAM_WORDS.includes(word)) {
      languageScores.malayalam += weight;
      if (!matchedWords.includes(word)) matchedWords.push(word);
    }
    if (KANNADA_WORDS.includes(word)) {
      languageScores.kannada += weight;
      if (!matchedWords.includes(word)) matchedWords.push(word);
    }
  });

  // Determine if regional language is detected
  const maxScore = Math.max(...Object.values(languageScores));

  // Calculate unique non-ambiguous word count (more reliable indicator)
  const nonAmbiguousMatches = matchedWords.filter((word) => !AMBIGUOUS_WORDS.has(word));

  // Dynamic threshold based on ambiguous vs non-ambiguous words
  // Require at least 2 non-ambiguous words OR 1 phrase match + 1 word
  const hasPhrase = matchedPhrases.length > 0;
  const threshold = hasPhrase ? 1.5 : 2; // Lower threshold if phrase detected

  // Stricter check: require at least 1 non-ambiguous word
  const hasNonAmbiguous = nonAmbiguousMatches.length >= 1;

  if (maxScore >= threshold && hasNonAmbiguous) {
    // Find the language with highest score
    const detectedLanguage = Object.keys(languageScores).find(
      (lang) => languageScores[lang] === maxScore
    );

    // Calculate confidence based on score and phrase matches
    let confidence = 'medium';
    if (maxScore >= 5 || matchedPhrases.length > 0) {
      confidence = 'high';
    } else if (maxScore < 3 && matchedPhrases.length === 0) {
      confidence = 'low';
    }

    return {
      isRegionalLanguage: true,
      detectedLanguage: LANGUAGE_NAMES[detectedLanguage],
      matchedWords,
      matchedPhrases,
      score: maxScore,
      confidence,
      nonAmbiguousCount: nonAmbiguousMatches.length,
      allScores: languageScores, // For debugging
    };
  }

  return {
    isRegionalLanguage: false,
    detectedLanguage: null,
    matchedWords: [],
    matchedPhrases: [],
    score: 0,
    confidence: 'none',
  };
};

/**
 * Quick check if text contains any regional language words
 * @param {string} text - The text to check
 * @returns {boolean} - True if regional language detected
 */
export const hasRegionalLanguage = (text) => {
  if (!text || typeof text !== 'string') {
    return false;
  }

  const normalizedText = text.toLowerCase();
  const words = normalizedText.split(/\s+/);

  // Quick check: if 2 or more words match regional dictionary, it's likely regional language
  let matchCount = 0;
  for (const word of words) {
    if (ALL_REGIONAL_WORDS.includes(word)) {
      matchCount++;
      if (matchCount >= 2) {
        return true;
      }
    }
  }

  return false;
};

export default {
  detectRegionalLanguage,
  hasRegionalLanguage,
  LANGUAGE_NAMES,
};
